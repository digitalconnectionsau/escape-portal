(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[103],{412:(e,a,t)=>{"use strict";t.d(a,{db:()=>l,j:()=>o});var s=t(3915),r=t(6203),n=t(5317);let i=(0,s.Wp)({apiKey:"AIzaSyDD6coY49gQGo7rkhcPQY6nUhftziODTPY",authDomain:"escape-portal-au.firebaseapp.com",projectId:"escape-portal-au",storageBucket:"escape-portal-au.firebasestorage.app",messagingSenderId:"917308365081",appId:"1:917308365081:web:1fb93c63b2b43ad9678d88",measurementId:"G-LQ50CD3219"}),o=(0,r.xI)(i),l=(0,n.aU)(i)},1514:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>l});var s=t(5155),r=t(2115),n=t(5695),i=t(5317),o=t(412);function l(){let{roundId:e}=(0,n.useParams)(),[a,t]=(0,r.useState)([]),[l,c]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{(async()=>{let a=(0,i.P)((0,i.rJ)(o.db,"Sessions"),(0,i._M)("roundId","==",String(e)));t((await (0,i.GG)(a)).docs.map(e=>{let a=e.data();if(!a.results)return null;let t=a.results.durationMinutes,s=a.results.durationSeconds,r=parseFloat((.1*Math.max(0,600-(60*t+s)/1800*600)+a.results.engagementRating/10*20+a.results.participationRating/10*20).toFixed(1));return{id:e.id,teamName:a.teamName||"Unnamed Team",facilitatorName:a.facilitatorName||"Unknown",durationMinutes:t,durationSeconds:s,engagementRating:a.results.engagementRating,participationRating:a.results.participationRating,score:r}}).filter(Boolean).sort((e,a)=>a.score-e.score)),c(!1)})()},[e]),l)?(0,s.jsx)("div",{className:"p-6 text-center text-xl",children:"Loading leaderboard..."}):(0,s.jsxs)("div",{className:"max-w-3xl mx-auto p-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-4 text-center",children:"\uD83C\uDFC6 Scoreboard"}),(0,s.jsx)("ul",{className:"space-y-3",children:a.map((e,a)=>{let t=0===a?"\uD83E\uDD47 Gold":1===a?"\uD83E\uDD48 Silver":2===a?"\uD83E\uDD49 Bronze":null;return(0,s.jsxs)("li",{className:"border p-4 rounded shadow flex justify-between items-center ".concat(t?"bg-gray-50":""),children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-lg",children:e.teamName}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Facilitator: ",e.facilitatorName]})]}),(0,s.jsxs)("div",{className:"text-right",children:[t&&(0,s.jsx)("p",{className:"font-bold ".concat(0===a?"text-yellow-500":1===a?"text-gray-400":2===a?"text-amber-700":"text-gray-700"),children:t}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:e.score})]})]},e.id)})})]})}},4496:(e,a,t)=>{Promise.resolve().then(t.bind(t,1514))},5695:(e,a,t)=>{"use strict";var s=t(8999);t.o(s,"useParams")&&t.d(a,{useParams:function(){return s.useParams}}),t.o(s,"usePathname")&&t.d(a,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(a,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(a,{useSearchParams:function(){return s.useSearchParams}})}},e=>{var a=a=>e(e.s=a);e.O(0,[992,118,645,441,684,358],()=>a(4496)),_N_E=e.O()}]);