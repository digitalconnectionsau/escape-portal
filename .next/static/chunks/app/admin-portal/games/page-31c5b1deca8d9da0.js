(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[191],{412:(e,a,s)=>{"use strict";s.d(a,{db:()=>i,j:()=>d});var t=s(3915),r=s(6203),l=s(5317);let n=(0,t.Wp)({apiKey:"AIzaSyDD6coY49gQGo7rkhcPQY6nUhftziODTPY",authDomain:"escape-portal-au.firebaseapp.com",projectId:"escape-portal-au",storageBucket:"escape-portal-au.firebasestorage.app",messagingSenderId:"917308365081",appId:"1:917308365081:web:1fb93c63b2b43ad9678d88",measurementId:"G-LQ50CD3219"}),d=(0,r.xI)(n),i=(0,l.aU)(n)},4376:(e,a,s)=>{Promise.resolve().then(s.bind(s,7621))},7621:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>d});var t=s(5155),r=s(2115),l=s(5317),n=s(412);function d(){let[e,a]=(0,r.useState)([]),[s,d]=(0,r.useState)(!1),[i,c]=(0,r.useState)({name:"",version:"",url:""}),[u,o]=(0,r.useState)(null),[m,p]=(0,r.useState)({name:"",version:"",url:""}),b=e=>{o(e.id),p({name:e.name,version:e.version,url:e.url})},x=()=>{o(null),p({name:"",version:"",url:""})},h=async e=>{await (0,l.mZ)((0,l.H9)(n.db,"Games",e),{name:m.name,version:m.version,url:m.url}),a(a=>a.map(a=>a.id===e?{...a,...m}:a)),x()};(0,r.useEffect)(()=>{(async()=>{a((await (0,l.GG)((0,l.rJ)(n.db,"Games"))).docs.map(e=>({id:e.id,...e.data()})))})()},[]);let v=async()=>{let e=await (0,l.gS)((0,l.rJ)(n.db,"Games"),{name:i.name,version:i.version,url:i.url,status:"Active"});a(a=>[...a,{...i,id:e.id,status:"Active"}]),c({name:"",version:"",url:""}),d(!1)},j=async e=>{let s="Active"===e.status?"Not Active":"Active";await (0,l.mZ)((0,l.H9)(n.db,"Games",e.id),{status:s}),a(a=>a.map(a=>a.id===e.id?{...a,status:s}:a))};return(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Games"}),(0,t.jsx)("button",{className:"mb-4 bg-blue-600 text-white px-4 py-2 rounded",onClick:()=>d(!0),children:"Add Game"}),s&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Add New Game"}),(0,t.jsx)("input",{className:"border p-2 w-full mb-2",placeholder:"Game Name",value:i.name,onChange:e=>c({...i,name:e.target.value})}),(0,t.jsx)("input",{className:"border p-2 w-full mb-2",placeholder:"Version",value:i.version,onChange:e=>c({...i,version:e.target.value})}),(0,t.jsx)("input",{className:"border p-2 w-full mb-4",placeholder:"URL",value:i.url,onChange:e=>c({...i,url:e.target.value})}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)("button",{className:"px-4 py-2 bg-gray-400 rounded",onClick:()=>d(!1),children:"Cancel"}),(0,t.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded",onClick:v,children:"Save"})]})]})}),(0,t.jsxs)("table",{className:"w-full text-left border mt-4",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"p-2 border",children:"Name"}),(0,t.jsx)("th",{className:"p-2 border",children:"Version"}),(0,t.jsx)("th",{className:"p-2 border",children:"URL"}),(0,t.jsx)("th",{className:"p-2 border",children:"Status"}),(0,t.jsx)("th",{className:"p-2 border",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:e.map(e=>{let a=u===e.id;return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"p-2 border",children:a?(0,t.jsx)("input",{className:"border p-1 w-full",value:m.name,onChange:e=>p({...m,name:e.target.value})}):e.name}),(0,t.jsx)("td",{className:"p-2 border",children:a?(0,t.jsx)("input",{className:"border p-1 w-full",value:m.version,onChange:e=>p({...m,version:e.target.value})}):e.version}),(0,t.jsx)("td",{className:"p-2 border",children:a?(0,t.jsx)("input",{className:"border p-1 w-full",value:m.url,onChange:e=>p({...m,url:e.target.value})}):(0,t.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"Visit"})}),(0,t.jsx)("td",{className:"p-2 border",children:e.status}),(0,t.jsxs)("td",{className:"p-2 border space-x-2",children:[(0,t.jsx)("button",{className:"text-sm px-2 py-1 bg-yellow-400 rounded",onClick:()=>j(e),children:"Toggle Status"}),a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{className:"text-sm px-2 py-1 bg-green-500 text-white rounded",onClick:()=>h(e.id),children:"Save"}),(0,t.jsx)("button",{className:"text-sm px-2 py-1 bg-gray-400 rounded",onClick:()=>x(),children:"Cancel"})]}):(0,t.jsx)("button",{className:"text-sm px-2 py-1 bg-blue-500 text-white rounded",onClick:()=>b(e),children:"Edit"})]})]},e.id)})})]})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[992,118,645,441,684,358],()=>a(4376)),_N_E=e.O()}]);