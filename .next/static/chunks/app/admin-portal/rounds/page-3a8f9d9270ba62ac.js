(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[673],{412:(e,a,t)=>{"use strict";t.d(a,{db:()=>o,j:()=>n});var s=t(3915),i=t(6203),r=t(5317);let d=(0,s.Wp)({apiKey:"AIzaSyDD6coY49gQGo7rkhcPQY6nUhftziODTPY",authDomain:"escape-portal-au.firebaseapp.com",projectId:"escape-portal-au",storageBucket:"escape-portal-au.firebasestorage.app",messagingSenderId:"917308365081",appId:"1:917308365081:web:1fb93c63b2b43ad9678d88",measurementId:"G-LQ50CD3219"}),n=(0,i.xI)(d),o=(0,r.aU)(d)},1575:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>n});var s=t(5155),i=t(2115),r=t(5317),d=t(412);function n(){let[e,a]=(0,i.useState)([]),[t,n]=(0,i.useState)([]),[o,l]=(0,i.useState)(!0);(0,i.useEffect)(()=>{(async()=>{let e=await (0,r.GG)((0,r.rJ)(d.db,"Organisations")),t={};e.forEach(e=>{t[e.id]=e.data().organisationName||"Unknown Org"});let s=await (0,r.GG)((0,r.Cs)(d.db,"Rounds")),i=[];s.forEach(e=>{let a=e.data(),s=e.ref.parent.parent;s&&i.push({id:e.id,name:a.roundName,startDate:a.startDate.toDate().toISOString().split("T")[0],endDate:a.endDate.toDate().toISOString().split("T")[0],orgId:s.id,organisationName:t[s.id]||"Unknown Org"})});let o=(await (0,r.GG)((0,r.Cs)(d.db,"Sessions"))).docs.map(e=>{let a=e.data();return{id:e.id,date:a.date,startTime:a.startTime,facilitatorName:a.facilitatorName,roundId:a.roundId,teamName:a.teamName||"",teamId:a.teamId||""}});a(i),n(o),l(!1)})()},[]);let m=new Date,c=e.filter(e=>new Date(e.startDate)<=m&&new Date(e.endDate)>=m),u=e=>t.filter(a=>a.roundId===e),p=e=>{alert("Edit session for team: ".concat(e.teamName))};return o?(0,s.jsx)("div",{children:"Loading..."}):(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Active Rounds"}),c.map(e=>(0,s.jsxs)("div",{className:"bg-white shadow rounded p-4 mb-4",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold mb-2",children:[e.name," (",e.startDate," – ",e.endDate,")"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 mb-2",children:["Organisation: ",e.organisationName]}),(0,s.jsx)("ul",{className:"space-y-2",children:u(e.id).map(e=>(0,s.jsxs)("li",{className:"border p-2 rounded flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:e.date})," at ",e.startTime," — ",e.teamName," (Facilitator: ",e.facilitatorName,")"]}),(0,s.jsx)("button",{onClick:()=>p(e),className:"text-blue-600 hover:underline text-sm ml-4",children:"✏️ Edit"})]},e.id))})]},e.id))]})}},2604:(e,a,t)=>{Promise.resolve().then(t.bind(t,1575))}},e=>{var a=a=>e(e.s=a);e.O(0,[992,118,645,441,684,358],()=>a(2604)),_N_E=e.O()}]);