(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[325],{412:(e,s,t)=>{"use strict";t.d(s,{db:()=>n,j:()=>i});var a=t(3915),l=t(6203),r=t(5317);let d=(0,a.Wp)({apiKey:"AIzaSyDD6coY49gQGo7rkhcPQY6nUhftziODTPY",authDomain:"escape-portal-au.firebaseapp.com",projectId:"escape-portal-au",storageBucket:"escape-portal-au.firebasestorage.app",messagingSenderId:"917308365081",appId:"1:917308365081:web:1fb93c63b2b43ad9678d88",measurementId:"G-LQ50CD3219"}),i=(0,l.xI)(d),n=(0,r.aU)(d)},4539:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var a=t(5155),l=t(2115),r=t(412),d=t(5317),i=t(6874),n=t.n(i);function c(){let[e,s]=(0,l.useState)("Pre"),[t,i]=(0,l.useState)([]),[c,o]=(0,l.useState)(!1),[u,b]=(0,l.useState)("");(0,l.useEffect)(()=>{h()},[e]);let h=async()=>{let s=(0,d.P)((0,d.rJ)(r.db,"Quizzes"),(0,d._M)("type","==",e)),t=await (0,d.GG)(s),a=[];for(let e of t.docs){let s=e.id,t=e.data(),l=await (0,d.GG)((0,d.rJ)(r.db,"Quizzes",s,"Questions"));a.push({id:s,...t,questions:l.size})}i(a)},p=async()=>{await (0,d.gS)((0,d.rJ)(r.db,"Quizzes"),{title:u,type:e}),b(""),o(!1),h()};return(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Quizzes"}),(0,a.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,a.jsx)("button",{onClick:()=>s("Pre"),className:"Pre"===e?"font-bold":"",children:"Pre"}),(0,a.jsx)("button",{onClick:()=>s("Post"),className:"Post"===e?"font-bold":"",children:"Post"})]}),(0,a.jsx)("button",{className:"mb-4 bg-blue-600 text-white px-4 py-2 rounded",onClick:()=>o(!0),children:"Add Quiz"}),c&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold mb-4",children:["Add ",e," Game Quiz"]}),(0,a.jsx)("input",{className:"border p-2 w-full mb-4",placeholder:"Quiz Title",value:u,onChange:e=>b(e.target.value)}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)("button",{className:"px-4 py-2 bg-gray-400 rounded",onClick:()=>o(!1),children:"Cancel"}),(0,a.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded",onClick:p,children:"Save"})]})]})}),(0,a.jsxs)("table",{className:"w-full text-left border mt-4",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"p-2 border",children:"Title"}),(0,a.jsx)("th",{className:"p-2 border",children:"Questions"}),(0,a.jsx)("th",{className:"p-2 border",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:t.map(e=>{var s;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"p-2 border",children:e.title}),(0,a.jsx)("td",{className:"p-2 border",children:null!=(s=e.questions)?s:0}),(0,a.jsx)("td",{className:"p-2 border",children:(0,a.jsx)(n(),{href:"/admin-portal/quizzes/".concat(e.id),className:"text-sm bg-green-500 px-2 py-1 rounded text-white inline-block",children:"Manage Questions"})})]},e.id)})})]})]})}},5706:(e,s,t)=>{Promise.resolve().then(t.bind(t,4539))}},e=>{var s=s=>e(e.s=s);e.O(0,[992,118,645,874,441,684,358],()=>s(5706)),_N_E=e.O()}]);